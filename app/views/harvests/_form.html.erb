<%= form_for(@harvest) do |f| %>
  <% if @harvest.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@harvest.errors.count, "error") %> prohibited this harvest from being saved:</h2>

      <ul>
      <% @harvest.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <h2>Animal Type</h2>
  <%= f.radio_button :animal_type, value: 1, class: 'form-control' %><%= f.label :turkey %>
  <%= f.radio_button :animal_type, value: 2, class: 'form-control' %> <%= f.label :deer %>
  <%= f.radio_button :animal_type, value: 3, class: 'form-control' %> <%= f.label :moose %>
  <%= f.radio_button :animal_type, value: 4, class: 'form-control' %> <%= f.label :bear %>
  <br>
  <br>
  <h2>Weapon Type</h2>
  <%= f.radio_button :weapon_type, value: 1, class: 'form-control' %> <%= f.label :rifle %>
  <%= f.radio_button :weapon_type, value: 2, class: 'form-control' %> <%= f.label :shotgun %>
  <%= f.radio_button :weapon_type, value: 3, class: 'form-control' %> <%= f.label :bow %>
  <%= f.radio_button :weapon_type, value: 4, class: 'form-control' %> <%= f.label :other %>
  <br>
  <br>
  <%= f.label 'Weight (Optional)' %>
  <%= f.text_field :weight, class: 'form-control' %> 
  <%= f.label 'Details (Optional)' %>
  <%= f.text_field :description, class: 'form-control' %>
  <h2>Plot Your Harvest</h2>
  <div id="map"></div>
    <script>
      // In the following example, markers appear when the user clicks on the map.
// Each marker is labeled with a single alphabetical character.
var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
var labelIndex = 0;

function initialize() {
  var belfast = { lat: 44.502, lng: -69.009 };
  var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 9,
    center: belfast,
    mapTypeId: 'terrain',
    styles: [
            {
              featureType: 'landscape',
              stylers: [
                { saturation: -50 }
              ]
            },{
              featureType: 'water',
              stylers: [
                { hue: '#174a67' },
                { saturation: 50 },
                { lightness: -80 }
              ]
            },{
              featureType: 'road',
              elementType: 'geometry',
              stylers: [
                { hue: '#00ffee' },
                { saturation: 50 }
              ]
            },{
              featureType: 'poi',
              elementType: 'labels',
              stylers: [
                { visibility: 'off' }
              ]
            }
          ]
  });

  // This event listener calls addMarker() when the map is clicked.
  google.maps.event.addListener(map, 'click', function(event) {
    addMarker(event.latLng, map);
  });
}

// Adds a marker to the map.
function addMarker(location, map) {
  // Add the marker at the clicked location, and add the next-available label
  // from the array of alphabetical characters.
  var marker = new google.maps.Marker({
    position: location,
    //draggable: true,
    label: labels[labelIndex++ % labels.length],
    map: map
  });
}


google.maps.event.addDomListener(window, 'load', initialize);

    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAwtrmNvPxpJU6tbz577Ll--lDxDiDLGVg&callback=initMap" async defer>
    </script>
  <br>
  <%= f.label :image %>
  <%= f.file_field :image %>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
